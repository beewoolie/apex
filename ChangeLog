2005-03-20  Marc Singer  <elf@buici.com>

	* Fixed menuconfig.  Still, I've never been able to edit strings,
	hex's, or int's in menuconfig. It's there for the folks who want it.

	* Makefile (SUBLEVEL): Rolling revision for integration of new
	configuration support.  This is a big deal because it means that
	configurations are easier to build and more robust.

	* scripts/configtoh: Stripping the quotes from config options.
	We're using the kernel configurator, so we have less control over
	the user's actions.  This may prove to be overly zealous in
	situations where the configuration option needs quotes.
	...Now it is really fixed.  Needed it and there was no way around it.

2005-03-17  Marc Singer  <elf@buici.com>

	* src/mach-lh7a40x/cpuinfo.c (cpuinfo_report): Fixed the CPUID
	reporting for the lh7a404.

	* src/mach-lh7a40x/initialize.c: Added hack to the lpd7a40x
	initialization to enable PCMCIA.  May be a work-around for a NOR
	flash problem.
 
	* src/drivers/drv-nor-cfi.c (nor_read): Eliminated (most)
	references to nor chip length except when necessary.

2005-03-16  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/timer-lh79520.c (lh79520_timer_init): Fixed the
	initialization of the boot loader timer.

	* src/mach-lh7952x/lpd79520_config (CONFIG_NOR_BANK0_START): Fixed
	the starting address of the NOR flash so that the REMAP register
	doesn't make a difference.

	* src/apex/cmd-boot.c: Making sure that the ATAG pointer is valid.

2005-03-15  Marc Singer  <elf@buici.com>

	* src/arch-arm/entry/apex.lds.S: Added new START identifier for
	the sake of the memory scan function.

	* src/drivers/drv-mem.c (memory_scan): The memory scan function
	needed to make sure not to write to BSS.  It now avoids the entire
	memory image of APEX. 

2005-03-10  Marc Singer  <elf@buici.com>

	* src/mach-lh7a40x/initialize.c: SDRAM initialization was
	completely broken since 1.1.0.  It works again.

	* src/drivers/drv-cf.c: Moved Compact Flash code to live among
	generic drivers.  Implemented CF for the 79520's.  Wrote code for
	the 7a40x's, but it isn't working.  
	
	* src/drivers/drv-ext2.c (ext2_path_to_inode): Fixed dumb error in
	the symlink traversal code.

	* src/drivers/drv-nor-cfi.c: Improved TALK for troubleshooting
	flash.

2005-03-09  Marc Singer  <elf@buici.com>

	* src/drivers/drv-nor-cfi.c: Moved the cfi driver into the generic
	driver directory.  There is a machine specific header to handle
	the target controlled constants.

	* Makefile (ENV_CROSS_COMPILE): Fixed the selection of the cross
	compiler so that the environment will override the configured
	value.

2005-03-07  Marc Singer  <elf@buici.com>

	* src/drivers/drv-ext2.c: ext2 driver is working.  It supports
	paths and following symlinks.

	* scripts/envmagic: Grooming.  Properly fixed.

	* src/mach-ixp42x/serial.c (ixp42x_serial_write): Waiting for all
	data to write before returning.

	* src/mach-ixp42x/cmd-reset.c (cmd_reset): Resetting services
	before reset so that the nor flash has a chance to enter
	array-read mode.

	* src/mach-lh7952x/cmd-reset.c (cmd_reset): Resetting services
	before reset so that the nor flash has a chance to enter
	array-read mode.

	* src/mach-lh7952x/drv-nor-cfi.c (nor_release): Release function
	added so that cmd-reset will reliably perform.

	* src/drivers/drv-fat.c (fat_find): Fat filename comparisions are
	not case insensitive without requiring the descriptor parser to
	lower-case the path elements.

2005-03-06  Marc Singer  <elf@buici.com>

	* src/drivers/drv-ext2.c: A rudimentary ext2 driver is
	implemented.  It has not received much testing.

	* src/apex/command.c (call_command): Added strings to error
	reporting when not CONFIG_SMALL and a string has not yet been set.

2005-03-04  Marc Singer  <elf@buici.com>

	* scripts/envmagic: Removed undesirable paths from the find.
	
2005-03-03  Marc Singer  <elf@buici.com>

	* src/lib/png.c (read_png_row): Decoder working properly with the
	logo and with cc. 

	* src/lib/zlib.c: Fixed the zlib declarations s.t. there is no
	initialized, mutable data.

	* src/lib/png.c: Added png interpreter for the sake of splash
	screen images.

	* src/lib/zlib.c: Added zlib decompressor.  Modified code to
	comply with data section standards of APEX.

2005-02-24  Marc Singer  <elf@buici.com>

	* src/mach-ixp42x/initialize.c: detection of the chip size from
	the config parameters.  All fat slugs should be simple settings in
	the config.

2005-02-23  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/drv-emac.c, src/apex/cmd-copy.c: Work-around
	for gcc-2.95 preprocessor bug.

2005-02-22  Marc Singer  <elf@buici.com>

	* src/drivers/drv-fat.c (fat_open): Typo prevented reading from
	any partition other than 1.

	* src/drivers/drv-mem.c (memory_init): Reorganized the
	configuration of SDRAM s.t. it is cleaner in the configuration
	file and controlled by a mach- specific header.  This make it
	easier to make sure the initialization is correct.

2005-02-21  Marc Singer  <elf@buici.com>

	* Makefile (SUBLEVEL): rolled to 1.1.0 for release with
	Milestone2.  Yipee!

	* src/mach-lh7952x/drv-emac.c: Cleanup of the driver.  Better
	control over compile options.  Added help and report features.
 
2005-02-20  Marc Singer  <elf@buici.com>

	* Makefile Revision in preparation for milestone2 release.

	* src/mach-lh7952x/drv-nor-cfi.c (NOR_1_LENGTH): added logic
	necessary to support the double bank of NOR flash on the LPD79524
	boards.
	(nor_init_chip): Changed initialization to properly cope with two
	banks (or a pair of identical chips).

2005-02-19  Marc Singer  <elf@buici.com>

	* src/arch-arm/lib/lib1funcs.S: Imported this file from kernel in
	order to get general purpose integer divide and modulo functions.
	
2005-02-18  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/init-lpd79520.c: Fixed SDRAM init to comply
	with Sharp recommendations in their SDRAM application note.
	Thanks to prplague :-).

2005-02-17  Marc Singer  <elf@buici.com>

	* src/arch-arm/lib/relocate.c: Implemented a simpler
	copy loop to help some platforms along.

2005-02-16  Marc Singer  <elf@buici.com>

	* src/mach-ixp42x/nslu2_config (CONFIG_ENV_REGION): Changed the
	environment region for the nslu2 so that it can be written without
	clobbering the second redboot block.

	* src/apex/cmd-copy.c (cmd_copy): Added a -v switch to copy which
	performs a double read of the source and a read after write of the
	destination to make sure the copy is correct.

	* src/mach-ixp42x/initialize.c (__section): Added DEBUG_LL
	support.

	* src/apex/cmd-compare.c (cmd_compare): Added -c switch to compare
	so we can see more than one difference in a block.

2005-02-15  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/serial.c Errors in the UART macros prevented
	serial output on the 79520.

2005-02-14  Marc Singer  <elf@buici.com>

	* Makefile 1.0.25: for good measure

2005-02-12  Marc Singer  <elf@buici.com>

	* Makefile 1.0.24 for debug_ll changes

2005-02-12  Marc Singer  <elf@cerise.buici.com>

	* Makefile: Moved the compiler declarations to the config files.

	* include/debug_ll.h: Added low-level debug support via the serial
	console.

2005-02-11  Marc Singer  <elf@buici.com>

	* src/lib/spinner.c (spinner_step): Smoothed out the spinner.

2005-02-11  Marc Singer  <elf@cerise.buici.com>

	* Makefile 1.0.23 for the nslu2 spinner.

2005-02-11  Marc Singer  <elf@buici.com>

	* src/mach-ixp42x/spinner-nslu2.c (nslu2_spinner): Implemented a
	spinner for the platform.  It uses the LEDs to show progress.

	* Makefile: 1.0.22 for NSLU2 updates.

	* src/mach-ixp42x/nslu2.h: Adding header specific to this target.

	* src/mach-ixp42x/initialize.c (initialize_bootstrap):
	Initializing the GPIO lines. Adding more LED changes.

	* src/mach-ixp42x/nslu2_config (CONFIG_SPINNER): Adding
	configuration options for more.

2005-02-10  Marc Singer  <elf@buici.com>

	* include/attributes.h (__attribute__): Builds with 2.95.3.  Not
	yet tested.

2005-01-26  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/adc.c (cmd_adc): Basic adc code working.

	* src/apex/console-printf.c (printf): Automatic insertion of
	carriage-returns before newlines.
 
2005-01-21  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/drv-nor-cfi.c (nor_report): Added report
	function to nor driver.

	* src/mach-lh7a40x/drv-nor.c (nor_report): Added report funtion to
	nor driver.

2005-01-13  Marc Singer  <elf@buici.com>

	* src/apex/cmd-version.c (cmd_version): Rewording signon.

	* src/mach-lh7952x/Makefile (obj-$(CONFIG_MACH_LPD79524)): Moved
	adc to 79524 specific build.

	* scripts/configtoh: Fixed the script to properly elide comments. 

2005-01-12  Marc Singer  <elf@buici.com>

	* README_config: Editing the documentation.

	* Makefile (include/config.h): Fixed the script that generates the
	configuration file.
	(tidy): New target to remove debris.

2004-12-05  Marc Singer  <elf@buici.com>

	* src/lib/env.c (_env_check_magic): Magic number inserted at the
	start of the environment to protect user from bogus data.

	* src/mach-lh7a40x/drv-nor.c (nor_write): LPD7A40X targets
	completely supported though buffered writes to NOR flash not yet
	implemented.

2004-12-01  Marc Singer  <elf@buici.com>

	* README: New README(s) in preparation to release the source.

2004-11-17  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/drv-nor.c (nor_write): Fixed a buglet in
	buffered writes where the size of the write was incorrect in some
	edge cases.

	* src/mach-lh7952x/drv-cpld-spi.c: Added cpld-spi drivers for
	configuration EEPROM and for the MAC EEPROM.

	* src/mach-lh7952x/drv-emac.c (emac_read_mac): Fixed the EEPROM
	code.
	(cmd_emac): Removed eeprom specifics into another driver.

	* src/lib/dump.c (dump): Correct bug offset to rgb.

2004-11-16  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/drv-emac.c (cmd_emac): Ethernet MAC maintenance
	function as well as interface initialization.

	* src/lib/dump.c (dump): Factored the dump code into a library
	function.

2004-11-15  Marc Singer  <elf@buici.com>

	* src/mach-lh7952x/drv-nor.c (nor_write): Implementing buffered
	write.  It's about 16 times as fast.  Will leave other code for
	the time being since it is smaller by about 260 bytes.

	* First release, 1.0.

